<!DOCTYPE html>
<html lang="en">

<head>
    <link rel="stylesheet" type="text/css"
        href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css" />
    <link rel="stylesheet" type="text/css" href="//code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css"
        integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">

    <script src="https://code.jquery.com/jquery-1.12.4.js"></script>
    <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"
        integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-ho+j7jyWK8fNQe+A12Hb8AhRq26LrZ/JpcUGGOn+Y7RsweNrtN/tE3MoK7ZeZDyx"
        crossorigin="anonymous"></script>

    <style>
        * {
            color: rgb(75, 70, 70);
            user-select: none;
        }

        html,
        body {
            height: 100%;
            margin: 0;
        }

        body {
            direction: ltr;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: url('background1.png') center center;
            background-size: cover;
            background-attachment: fixed;
        }

        #ttl-div {
            padding-top: 0.5rem;
            text-align: center;
        }

        #input-div {
            display: flex;
            flex-wrap: wrap;
            flex-flow: column;
            align-items: center;
            margin: 1rem 0;
        }

        #choose-color {
            border-collapse: separate;
            border-spacing: 0.3rem;
        }

        #choose-color td {
            border: 0.15rem solid #3b38383b;
            width: 4rem;
            height: 2rem;
            border-radius: 0.3rem;
            cursor: pointer;
            transition: ease-in-out 0.1s;
        }

        #choose-color td:hover {
            filter: brightness(1.1);
        }

        #cube,
        #choose-color {
            display: block;
            margin: 0.5rem 0;
        }

        #cube td:not(.ignore) {
            border: 0.1rem solid #3B3838;
            background-color: rgb(221, 221, 221);
            width: 2rem;
            height: 2rem;
        }

        #cube td:not(.ignore, .m) {
            cursor: pointer;
        }

        .border-tl {
            border-top-width: 0.13rem !important;
            border-left-width: 0.13rem !important;
        }

        .border-t {
            border-top-width: 0.13rem !important;
        }

        .border-tr {
            border-top-width: 0.13rem !important;
            border-right-width: 0.13rem !important;
        }

        .border-r {
            border-right-width: 0.13rem !important;
        }

        .border-br {
            border-bottom-width: 0.13rem !important;
            border-right-width: 0.13rem !important;
        }

        .border-b {
            border-bottom-width: 0.13rem !important;
        }

        .border-bl {
            border-bottom-width: 0.13rem !important;
            border-left-width: 0.13rem !important;
        }

        .border-l {
            border-left-width: 0.13rem !important;
        }

        .random {
            background-color: #c350ea;
            color: #FFF;
            font-weight: 600;
            font-size: 1.2rem;
            text-align: center;
        }

        .empty {
            background-color: rgb(221, 221, 221);
        }

        .white {
            background-color: #FFF !important;
        }

        .orange {
            background-color: #ED7D31 !important;
        }

        .green {
            background-color: #70AD47 !important;
        }

        .red {
            background-color: #DA2626 !important;
        }

        .blue {
            background-color: #4472C4 !important;
        }

        .yellow {
            background-color: #F9D118 !important;
        }

        .solution {
            display: flex;
            justify-content: left;
            flex-wrap: wrap;
            margin: 3rem;
            padding: 0.5rem;
            background-color: rgba(245, 245, 245, 0.215);
            box-shadow: 0 0 0.3rem 0.1rem rgba(0, 0, 0, 0.5);
            backdrop-filter: blur(2px) brightness(0.9);
        }

        .solution-img {
            width: 5rem;
            margin: 0.5rem 0.5rem;
            box-shadow: 0 0 0.2rem 0.02rem rgba(0, 0, 0, 0.5);
            background-color: rgba(245, 245, 245, 0.3);
            backdrop-filter: blur(3px);
        }

        @media (max-width: 992px) {
            .solution {
                margin: 0.5rem;
            }
        }
    </style>

    <link rel="shortcut icon" href="rubikscube.ico">
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rubik's Cube Solver</title>
</head>

<body>
    <div id="ttl-div">
        <h1 style="color: whitesmoke; text-shadow: 0 0 0.5rem black;">Rubik's Cube Solver</h1>
        <h3 style="color: whitesmoke; text-shadow: 0 0 0.5rem black;">Enter values</h3>
    </div>
    <div id="input-div">
        <table id="choose-color">
            <tr>
                <td class="white"></td>
                <td class="red"></td>
                <td class="blue"></td>
                <td class="yellow"></td>
                <td class="orange"></td>
                <td class="green"></td>
                <td class="empty"></td>
                <td class="random">R</td>
            </tr>
        </table>
        <table id="cube">
            <tr>
                <td class="ignore"></td>
                <td class="ignore"></td>
                <td class="ignore"></td>
                <td class="border-tl"></td>
                <td class="border-t"></td>
                <td class="border-tr"></td>
                <td class="ignore"></td>
                <td class="ignore"></td>
                <td class="ignore"></td>
                <td class="ignore"></td>
                <td class="ignore"></td>
                <td class="ignore"></td>
            </tr>
            <tr>
                <td class="ignore"></td>
                <td class="ignore"></td>
                <td class="ignore"></td>
                <td class="border-l"></td>
                <td class="m c white"></td>
                <td class="border-r"></td>
                <td class="ignore"></td>
                <td class="ignore"></td>
                <td class="ignore"></td>
                <td class="ignore"></td>
                <td class="ignore"></td>
                <td class="ignore"></td>
            </tr>
            <tr>
                <td class="ignore"></td>
                <td class="ignore"></td>
                <td class="ignore"></td>
                <td class="border-l"></td>
                <td></td>
                <td class="border-r"></td>
                <td class="ignore"></td>
                <td class="ignore"></td>
                <td class="ignore"></td>
                <td class="ignore"></td>
                <td class="ignore"></td>
                <td class="ignore"></td>
            </tr>
            <tr>
                <td class="border-tl"></td>
                <td class="border-t"></td>
                <td class="border-t"></td>
                <td class="border-tl"></td>
                <td class="border-t"></td>
                <td class="border-t"></td>
                <td class="border-tl"></td>
                <td class="border-t"></td>
                <td class="border-t"></td>
                <td class="border-tl"></td>
                <td class="border-t"></td>
                <td class="border-tr"></td>
            </tr>
            <tr>
                <td class="border-l"></td>
                <td class="m c green"></td>
                <td></td>
                <td class="border-l"></td>
                <td class="m c red"></td>
                <td></td>
                <td class="border-l"></td>
                <td class="m c blue"></td>
                <td></td>
                <td class="border-l"></td>
                <td class="m c orange"></td>
                <td class="border-r"></td>
            </tr>
            <tr>
                <td class="border-bl"></td>
                <td class="border-b"></td>
                <td class="border-b"></td>
                <td class="border-bl"></td>
                <td class="border-b"></td>
                <td class="border-b"></td>
                <td class="border-bl"></td>
                <td class="border-b"></td>
                <td class="border-b"></td>
                <td class="border-bl"></td>
                <td class="border-b"></td>
                <td class="border-br"></td>
            </tr>
            <tr>
                <td class="ignore"></td>
                <td class="ignore"></td>
                <td class="ignore"></td>
                <td class="border-l"></td>
                <td></td>
                <td class="border-r"></td>
                <td class="ignore"></td>
                <td class="ignore"></td>
                <td class="ignore"></td>
                <td class="ignore"></td>
                <td class="ignore"></td>
                <td class="ignore"></td>
            </tr>
            <tr>
                <td class="ignore"></td>
                <td class="ignore"></td>
                <td class="ignore"></td>
                <td class="border-l"></td>
                <td class="m c yellow"></td>
                <td class="border-r"></td>
                <td class="ignore"></td>
                <td class="ignore"></td>
                <td class="ignore"></td>
                <td class="ignore"></td>
                <td class="ignore"></td>
                <td class="ignore"></td>
            </tr>
            <tr>
                <td class="ignore"></td>
                <td class="ignore"></td>
                <td class="ignore"></td>
                <td class="border-bl"></td>
                <td class="border-b"></td>
                <td class="border-br"></td>
                <td class="ignore"></td>
                <td class="ignore"></td>
                <td class="ignore"></td>
                <td class="ignore"></td>
                <td class="ignore"></td>
                <td class="ignore"></td>
            </tr>
        </table>
        <div class="btn btn-info disabled" style="margin-top: 1rem;"> Solve step 1 </div>
        <div class="solution"></div>
    </div>

    <script>
        $(function () {
            var sColor = "null", bFull;
            $("#choose-color td:not(.random)").on("click", function () {
                $("#choose-color td:not(.random)").attr("style", "");
                if (sColor !== $(this).attr("class")) {
                    sColor = $(this).attr("class");
                    $(this).css({ filter: "brightness(0.8)" });
                }
                else
                    sColor = "null";
            });
            $("#cube td").on("click", function () {
                if (!$(this).hasClass("ignore") && !$(this).hasClass("m") && sColor !== "null") {
                    nStep = 0;
                    $(".btn").text("Solve step 1");
                    $(".solution").html("");
                    console.clear();
                    if (sColor === "empty" || ($(this).hasClass("c") && $(this).hasClass(sColor))) {
                        $(this).removeClass("c white orange green red blue yellow");
                    }
                    else {
                        $(this).removeClass("c white orange green red blue yellow");
                        $(this).addClass("c " + sColor);
                    }
                    bFull = true;
                    $("#cube td:not(.ignore)").each(function () {
                        if (!$(this).hasClass("c")) {
                            bFull = false;
                        }
                    });
                    if (bFull) {
                        $(".btn").removeClass("disabled").off().on("click", buildCube);
                    }
                    else if (!$(".btn").hasClass("disabled")) {
                        $(".btn").addClass("disabled").off();
                    }
                }
            });
            $(".random").on("click", function () {
                nStep = 0;
                $(".btn").text("Solve step 1");
                $(".solution").html("");
                console.clear();
                for (var i = 0; i < 6; i++) {
                    aCube[i] = new Array();
                    for (var j = 0; j < 9; j++) {
                        aCube[i][j] = { color: i };
                    }
                }
                findPluses();
                findCorners();
                var aAllMoves = ['r', 'r_', 'l', 'l_', 'u', 'u_', 'd', 'd_', 'f', 'f_', 'b', 'b_'];
                for (var i = 0; i < 20; i++) {
                    move(aAllMoves[Math.floor(Math.random() * 12)]);
                }
                showOnScreen();
                $(".btn").removeClass("disabled").off().on("click", buildCube);
            });
        });

        ////////////////////////////////////////////////////////////////////////////////////////////////////////

        var aCube = [], nStep = 0;
        function buildCube() {
            sSolution = "";
            $(".solution").html("");
            if (nStep === 0) {
                nSolution = 0;
                console.clear();
                for (var i = 0; i < 6; i++) {
                    aCube[i] = new Array();
                }
                findColor(1, 4, 0);
                findColor(4, 4, 1);
                findColor(4, 7, 2);
                findColor(7, 4, 3);
                findColor(4, 10, 4);
                findColor(4, 1, 5);
                findPluses();
                findCorners();
                if (!checkCube()) {
                    alert("Somthing is wrong with the entered values. Check them.");
                    return;
                }
            }
            if ($(".btn").text() !== "Restart") {
                nStep++;
                solve();
                if (nStep === 7) $(".btn").text("Restart");
                else if ($(".btn").text() !== "Restart") $(".btn").text("Solve step " + (nStep + 1));
            }
            else location.reload();
        }

        function checkCube() {
            var aPlusColorNum = [0, 0, 0, 0, 0, 0], aCornerColorNum = [0, 0, 0, 0, 0, 0];
            if (aCube[0][4].color === 3) {
                rotateCubeF(); rotateCubeF();
            }
            for (var i = 0; i < 6; i++) {
                for (var j = 0; j < 9; j++) {
                    if (j % 2 === 0 && j !== 4) {
                        aCornerColorNum[aCube[i][j].color]++;
                        if (aCube[i][j].color === aCube[i][j].pointer[0].color) return false;
                    }
                    if (j % 2 === 1) {
                        aPlusColorNum[aCube[i][j].color]++;
                        if (aCube[i][j].color === aCube[i][j].pointer[0].color) return false;
                    }
                }
            }
            if (!(aCornerColorNum.filter(nColor => nColor === 4).length === 6 && aPlusColorNum.filter(nColor => nColor === 4).length === 6)) return false;
            return true;
        }

        ////////////////////////////////////////////////////////////////////////////////////////////////////////

        function solve() {
            console.log("Original cube");
            printCubeColors();

            console.log("Step " + nStep);
            eval("step" + nStep + "()");
            printCubeColors();
            console.log(sSolution);
            showSolution();

            showOnScreen();
            console.log(nSolution);
        }

        var aFaces, aPlus = [1, 5, 7, 3], aPlusToBtm = ['b', 'r', 'f', 'l'], aPlusToTop = ['f', 'r', 'b', 'l'], objPoint, nPart, nDis;
        function step1() {
            aFaces = [4, 2, 1, 5];
            // finding plus parts
            for (var i = 0; i < 4; i++) {
                // the obj of the white part
                objPoint = findPlusPart(0, aFaces[i]);
                // place of the part on face
                nPart = aPlus.indexOf(aCube[findPointFace(objPoint)].indexOf(objPoint));
                // part on top & on the wrong place
                if (findPointFaceColor(objPoint) === 0 && aCube[0][aPlus[nPart]].pointer[0].color !== findPointFaceColor(objPoint.pointer[0])) {
                    move(aPlusToBtm[nPart]); move(aPlusToBtm[nPart]);
                    if (nPart === 0) nPart = 2;
                    else if (nPart === 2) nPart = 0;
                    while (aCube[3][aPlus[nPart]].pointer[0].color != findPointFaceColor(aCube[3][aPlus[nPart]].pointer[0])) {
                        move("d");
                        nPart++;
                        if (nPart === 4) nPart = 0;
                    }
                    move(aPlusToTop[nPart]); move(aPlusToTop[nPart]);
                }
                // part on bottom
                else if (findPointFaceColor(objPoint) === 3) {
                    while (aCube[3][aPlus[nPart]].pointer[0].color != findPointFaceColor(aCube[3][aPlus[nPart]].pointer[0])) {
                        move("d");
                        nPart++;
                        if (nPart === 4) nPart = 0;
                    }
                    move(aPlusToTop[nPart]); move(aPlusToTop[nPart]);
                }
                // part on right
                else if (aPlus[nPart] === 3 && aFaces.indexOf(findPointFaceColor(objPoint)) !== -1) {
                    while (!(aFaces[i] === aCube[1][5].color && aCube[2][3].color === 0)) {
                        rotateCubeR();
                    }
                    // partColor - faceColor
                    var nDis = aFaces.indexOf(aCube[1][5].color) - aFaces.indexOf(aCube[1][4].color);
                    // if the correct face on the right
                    if (nDis === -1 || nDis === 3) {
                        move('u'); move('f_'); move('u_');
                    }
                    if (nDis === 0) {
                        move('f_');
                    }
                    // if the correct face on the left
                    if (nDis === 1 || nDis === -3) {
                        move('u_'); move('f_'); move('u');
                    }
                    if (nDis === 2 || nDis === - 2) {
                        move('u'); move('u'); move('f_'); move('u'); move('u');
                    }
                }
                else if (aPlus[nPart] === 5 && aFaces.indexOf(findPointFaceColor(objPoint)) !== -1) {
                    while (!(aFaces[i] === aCube[1][3].color && aCube[5][5].color === 0)) {
                        rotateCubeR();
                    }
                    // partColor - faceColor
                    var nDis = aFaces.indexOf(aCube[1][3].color) - aFaces.indexOf(aCube[1][4].color);
                    // if the correct face on the right
                    if (nDis === -1 || nDis === 3) {
                        move('u'); move('f'); move('u_');
                    }
                    if (nDis === 0) {
                        move('f');
                    }
                    // if the correct face on the left
                    if (nDis === 1 || nDis === -3) {
                        move('u_'); move('f'); move('u');
                    }
                    if (nDis === 2 || nDis === - 2) {
                        move('u'); move('u'); move('f'); move('u'); move('u');
                    }
                }
                else if (aPlus[nPart] === 1 && aFaces.indexOf(findPointFaceColor(objPoint)) !== -1) {
                    while (!(aFaces[i] === aCube[0][7].color && aCube[1][1].color === 0)) {
                        rotateCubeR();
                    }
                    move('f');
                    rotateCubeL();
                    // partColor - faceColor
                    var nDis = aFaces.indexOf(aCube[1][3].color) - aFaces.indexOf(aCube[1][4].color);
                    // if the correct face on the right
                    if (nDis === -1 || nDis === 3) {
                        move('u'); move('f'); move('u_');
                    }
                    if (nDis === 0) {
                        move('f');
                    }
                    // if the correct face on the left
                    if (nDis === 1 || nDis === -3) {
                        move('u_'); move('f'); move('u');
                    }
                    if (nDis === 2 || nDis === - 2) {
                        move('u'); move('u'); move('f'); move('u'); move('u');
                    }
                }
                else if (aPlus[nPart] === 7 && aFaces.indexOf(findPointFaceColor(objPoint)) !== -1) {
                    while (!(aFaces[i] === aCube[3][1].color && aCube[1][7].color === 0)) {
                        rotateCubeR();
                    }
                    // partColor - faceColor
                    var nDis = aFaces.indexOf(aCube[3][1].color) - aFaces.indexOf(aCube[1][4].color);
                    // if the correct face on the right
                    if (nDis === -1 || nDis === 3) {
                        move('u'); move('f'); move('u'); move('l_'); move('u_'); move('u_');
                    }
                    if (nDis === 0) {
                        move('f'); move('u'); move('l_'); move('u_');
                    }
                    // if the correct face on the left
                    if (nDis === 1 || nDis === -3) {
                        move('u_'); move('f_'); move('u_'); move('r'); move('u'); move('u');
                    }
                    if (nDis === 2 || nDis === - 2) {
                        move('u'); move('u'); move('f'); move('u'); move('l_'); move('u');
                    }
                }
            }
        }

        var aCorners = [0, 2, 8, 6];
        function step2() {
            // finding corners
            for (var i = 0; i < 4; i++) {
                // the obj of the white part
                objPoint = findCorner(0, aFaces[i]);
                if (findPointFaceColor(objPoint) === 0 && objPoint.pointer[0].color !== findPointFaceColor(objPoint.pointer[0])) {
                    while (!(aFaces[i] === aCube[1][0].color && aCube[0][6].color === 0)) {
                        rotateCubeR();
                    }
                    move('l'); move('d'); move('l_');
                    while (aCube[1][8].color !== aCube[5][4].color) {
                        move('d');
                        rotateCubeL();
                    }
                    move('l'); move('d_'); move('l_');
                }
                else if (findPointFaceColor(objPoint.pointer[0]) === 0 && aFaces.indexOf(findPointFaceColor(objPoint)) !== -1) {
                    while (!(aFaces[i] === aCube[0][0].color && aCube[4][2].color === 0)) {
                        rotateCubeR();
                    }
                    move('b'); move('d'); move('b_');
                    while (aCube[1][6].color !== aCube[2][4].color) {
                        move('d');
                        rotateCubeL();
                    }
                    move('r_'); move('d'); move('r');
                }
                else if (findPointFaceColor(objPoint.pointer[1]) === 0 && aFaces.indexOf(findPointFaceColor(objPoint)) !== -1) {
                    while (!(aFaces[i] === aCube[2][2].color && aCube[4][0].color === 0)) {
                        rotateCubeR();
                    }
                    move('b_'); move('d_'); move('b');
                    while (aCube[1][8].color !== aCube[5][4].color) {
                        move('d');
                        rotateCubeL();
                    }
                    move('l'); move('d_'); move('l_');
                }
                else if (findPointFaceColor(objPoint) === 3) {
                    while (!(aFaces[i] === aCube[4][8].color && aCube[3][6].color === 0)) {
                        rotateCubeR();
                    }
                    while (aCube[4][8].color !== aCube[5][4].color) {
                        move('d');
                        rotateCubeL();
                    }
                    move('l_'); move('d'); move('l'); move('b'); move('d'); move('d'); move('b_');
                }
                else if (findPointFaceColor(objPoint.pointer[0]) === 3 && aFaces.indexOf(findPointFaceColor(objPoint)) !== -1) {
                    while (!(aFaces[i] === aCube[3][2].color && aCube[2][6].color === 0)) {
                        rotateCubeR();
                    }
                    while (aCube[1][8].color !== aCube[5][4].color) {
                        move('d');
                        rotateCubeL();
                    }
                    move('l'); move('d_'); move('l_');
                }
                else if (findPointFaceColor(objPoint.pointer[1]) === 3 && aFaces.indexOf(findPointFaceColor(objPoint)) !== -1) {
                    while (!(aFaces[i] === aCube[1][6].color && aCube[5][8].color === 0)) {
                        rotateCubeR();
                    }
                    while (aCube[1][6].color !== aCube[2][4].color) {
                        move('d');
                        rotateCubeL();
                    }
                    move('r_'); move('d'); move('r');
                }
            }
        }

        function step3() {
            rotateCubeF(); rotateCubeF();
            for (var i = 0; i < 4; i++) {
                // the obj of the white part
                objPoint = findPlusPart(aFaces[Math.floor(i / 2) * 2], aFaces[((i % 2) * 2) + 1]);
                // if on top
                if (findPointFaceColor(objPoint) === 3) {
                    while (!(aFaces[Math.floor(i / 2) * 2] === aCube[0][7].color && aFaces[((i % 2) * 2) + 1] === aCube[1][1].color)) {
                        rotateCubeR();
                    }
                    while (aCube[1][1].color !== aCube[1][4].color) {
                        move('u');
                        rotateCubeR();
                    }
                    if (aCube[0][7].color === aCube[5][4].color) {
                        move('u_'); move('l_'); move('u'); move('l'); move('u'); move('f'); move('u_'); move('f_');
                        // U' L' U L U F U' F'
                    }
                    else if (aCube[0][7].color === aCube[2][4].color) {
                        move('u'); move('r'); move('u_'); move('r_'); move('u_'); move('f_'); move('u'); move('f');
                        // U R U' R' U' F' U F
                    }
                }
                else if (findPointFaceColor(objPoint.pointer[0]) === 3) {
                    while (!(aFaces[((i % 2) * 2) + 1] === aCube[0][7].color && aFaces[Math.floor(i / 2) * 2] === aCube[1][1].color)) {
                        rotateCubeR();
                    }
                    while (aCube[1][1].color !== aCube[1][4].color) {
                        move('u');
                        rotateCubeR();
                    }
                    if (aCube[0][7].color === aCube[5][4].color) {
                        move('u_'); move('l_'); move('u'); move('l'); move('u'); move('f'); move('u_'); move('f_');
                    }
                    else if (aCube[0][7].color === aCube[2][4].color) {
                        move('u'); move('r'); move('u_'); move('r_'); move('u_'); move('f_'); move('u'); move('f');
                    }
                }
                else if (aCube[findPointFace(objPoint)].indexOf(objPoint) === 3 && !(objPoint.color === findPointFaceColor(objPoint) && objPoint.pointer[0].color === findPointFaceColor(objPoint.pointer[0]))) {
                    while (!(aFaces[Math.floor(i / 2) * 2] === aCube[1][3].color && aFaces[((i % 2) * 2) + 1] === aCube[5][5].color)) {
                        rotateCubeR();
                    }
                    move('u_'); move('l_'); move('u'); move('l'); move('u'); move('f'); move('u_'); move('f_');
                    move('u'); move('u');
                    while (aCube[1][1].color !== aCube[1][4].color) {
                        move('u');
                        rotateCubeR();
                    }
                    if (aCube[0][7].color === aCube[5][4].color) {
                        move('u_'); move('l_'); move('u'); move('l'); move('u'); move('f'); move('u_'); move('f_');
                    }
                    else if (aCube[0][7].color === aCube[2][4].color) {
                        move('u'); move('r'); move('u_'); move('r_'); move('u_'); move('f_'); move('u'); move('f');
                    }
                }
                else if (aCube[findPointFace(objPoint)].indexOf(objPoint) === 5 && !(objPoint.color === findPointFaceColor(objPoint) && objPoint.pointer[0].color === findPointFaceColor(objPoint.pointer[0]))) {
                    while (!(aFaces[Math.floor(i / 2) * 2] === aCube[1][5].color && aFaces[((i % 2) * 2) + 1] === aCube[2][3].color)) {
                        rotateCubeR();
                    }
                    move('u'); move('r'); move('u_'); move('r_'); move('u_'); move('f_'); move('u'); move('f');
                    move('u'); move('u');
                    while (aCube[1][1].color !== aCube[1][4].color) {
                        move('u');
                        rotateCubeR();
                    }
                    if (aCube[0][7].color === aCube[5][4].color) {
                        move('u_'); move('l_'); move('u'); move('l'); move('u'); move('f'); move('u_'); move('f_');
                    }
                    else if (aCube[0][7].color === aCube[2][4].color) {
                        move('u'); move('r'); move('u_'); move('r_'); move('u_'); move('f_'); move('u'); move('f');
                    }
                }
            }
        }

        var aObjPoint = [], nZeros;
        function step4() {
            for (var i = 0; i < 4; i++) {
                if (aCube[0][aPlus[i]].color === 3) aObjPoint[i] = aCube[0][aPlus[i]];
                else aObjPoint[i] = 0;
            }
            nZeros = aObjPoint.filter(nZero => nZero === 0).length;
            if (nZeros % 2 === 1) {
                alert("Somthing is wrong with the entered values. Check them.");
                $(".btn").text("Restart");
                return;
            }
            else if (nZeros === 4) {
                move('b'); move('l'); move('u'); move('l_'); move('u_'); move('b_');
                move('f'); move('u'); move('r'); move('u_'); move('r_'); move('f_');
            }
            else if (nZeros === 2) {
                for (var i = 0; i < 4; i++) {
                    if (i !== 0) {
                        if (aObjPoint[i] === aObjPoint[i - 1]) {
                            nPart = 'h';
                            break;
                        }
                    }
                    if (i === 3) {
                        if (aObjPoint[3] === aObjPoint[0]) nPart = 'h';
                        else nPart = 'l';
                    }
                }
            }
            if (nPart === 'h') {
                while (!(aCube[0][1].color === 3 && aCube[0][3].color === 3)) {
                    rotateCubeR();
                }
                move('f'); move('u'); move('r'); move('u_'); move('r_'); move('f_');
            }
            else if (nPart === 'l') {
                if (aCube[0][3].color !== 3) {
                    rotateCubeR();
                }
                move('b'); move('l'); move('u'); move('l_'); move('u_'); move('b_');
            }
        }

        var aOldFaces = [4, 2, 1, 5]
        function step5() {
            aObjPoint = []; aFaces = [4, 5, 1, 2];
            while (aCube[4][1].color !== 4) {
                rotateCubeR();
            }
            for (var i = 0; i < 4; i++) {
                if (aCube[aFaces[i]][1].color === aOldFaces[i]) aObjPoint[i] = aOldFaces[i];
                else aObjPoint[i] = 0;
            }
            if (aObjPoint.filter(nZero => nZero === 0).length === 2) {
                if (aObjPoint[2] === 0 && aObjPoint[3] === 0) rotateCubeL();
                else if (aObjPoint[3] === 0 && aObjPoint[1] === 0) {
                    move('r'); move('u'); move('r_'); move('u'); move('r'); move('u'); move('u'); move('r_');
                    rotateCubeR();
                }
                move('r'); move('u'); move('r_'); move('u'); move('r'); move('u'); move('u'); move('r_');
            }
            else if (aObjPoint.filter(nZero => nZero === 0).length === 3) {
                rotateCubeR();
                if (aCube[2][1].color === 5) rotateCubeR();
                move('r'); move('u'); move('r_'); move('u'); move('r'); move('u'); move('u'); move('r_');
            }
            while (aCube[1][1].color !== aCube[1][4].color) {
                move('u');
            }
        }

        function step6() {
            aObjPoint = [];
            for (var i = 0; i < 4; i++) {
                objPoint = findCorner(3, aFaces[i]);
                if (IsCornerInPlace(objPoint)) aObjPoint[i] = aFaces[i];
                else aObjPoint[i] = 0;
            }
            nZeros = aObjPoint.filter(nZero => nZero === 0).length;
            if (nZeros === 3) {
                nPart = aObjPoint.filter(nZero => nZero !== 0)[0];
                objPoint = findCorner(3, nPart);
                if (aCube[0].indexOf(objPoint.pointer[0]) !== -1) objPoint = objPoint.pointer[0];
                else if (aCube[0].indexOf(objPoint.pointer[1]) !== -1) objPoint = objPoint.pointer[1];
                while (!(objPoint.color === aCube[0][6].color && objPoint.pointer[0].color === aCube[1][0].color)) {
                    rotateCubeR();
                    objPoint = findCorner(3, nPart);
                    if (aCube[0].indexOf(objPoint.pointer[0]) !== -1) objPoint = objPoint.pointer[0];
                    else if (aCube[0].indexOf(objPoint.pointer[1]) !== -1) objPoint = objPoint.pointer[1];
                }
                move('r'); move('u_'); move('l_'); move('u'); move('r_'); move('u_'); move('l'); move('u');
                if (!IsCornerInPlace(aCube[0][8])) {
                    move('r'); move('u_'); move('l_'); move('u'); move('r_'); move('u_'); move('l'); move('u');
                }
            }
            if (nZeros === 4) {
                move('r'); move('u_'); move('l_'); move('u'); move('r_'); move('u_'); move('l'); move('u');
                for (var i = 0; i < 4; i++) {
                    objPoint = findCorner(3, aFaces[i]);
                    if (IsCornerInPlace(objPoint)) aObjPoint[i] = aFaces[i];
                    else aObjPoint[i] = 0;
                }
                nPart = aObjPoint.filter(nZero => nZero !== 0)[0];
                objPoint = findCorner(3, nPart);
                if (aCube[0].indexOf(objPoint.pointer[0]) !== -1) objPoint = objPoint.pointer[0];
                else if (aCube[0].indexOf(objPoint.pointer[1]) !== -1) objPoint = objPoint.pointer[1];
                while (!(objPoint.color === aCube[0][6].color && objPoint.pointer[0].color === aCube[1][0].color)) {
                    rotateCubeR();
                    objPoint = findCorner(3, nPart);
                    if (aCube[0].indexOf(objPoint.pointer[0]) !== -1) objPoint = objPoint.pointer[0];
                    else if (aCube[0].indexOf(objPoint.pointer[1]) !== -1) objPoint = objPoint.pointer[1];
                }
                move('r'); move('u_'); move('l_'); move('u'); move('r_'); move('u_'); move('l'); move('u');
                if (!IsCornerInPlace(aCube[0][8])) {
                    move('r'); move('u_'); move('l_'); move('u'); move('r_'); move('u_'); move('l'); move('u');
                }
            }
        }

        function step7() {
            aObjPoint = [];
            for (var i = 0; i < 4; i++) {
                objPoint = findCorner(3, aFaces[i]);
                if (findPointFaceColor(objPoint) === 3) aObjPoint[i] = aFaces[i];
                else aObjPoint[i] = 0;
            }
            nZeros = aObjPoint.filter(nZero => nZero === 0).length;
            if (nZeros !== 0) {
                if (nZeros === 1) {
                    while (aCube[0][2].color !== 3) {
                        rotateCubeR();
                    }
                }
                else if (nZeros === 2) {
                    var c = 0;
                    while (!(aCube[0][2].color === 3 && aCube[0][0].color === 3) && c < 4) {
                        rotateCubeR();
                        c++;
                    }
                }
                for (var i = 0; i < 3; i++) {
                    if (aCube[1][2].color === 3) {
                        move('l'); move('d_'); move('l_'); move('f_'); move('d_'); move('f'); move('u'); move('f_');
                        move('d'); move('f'); move('l'); move('d'); move('l_'); move('u_');
                    }
                    else if (aCube[2][0].color === 3) {
                        move('r'); move('b_'); move('r_'); move('u_'); move('b_'); move('u'); move('f'); move('u_');
                        move('b'); move('u'); move('r'); move('b'); move('r_'); move('f_');
                    }
                    rotateCubeR();
                }
            }
        }

        ////////////////////////////////////////////////////////////////////////////////////////////////////////

        //input aCube object
        function findPointFace(x) {
            for (var i = 0; i < 6; i++) {
                if (aCube[i].indexOf(x) !== -1) return i;
            }
        }

        function findPointFaceColor(x) {
            for (var i = 0; i < 6; i++) {
                if (aCube[i].indexOf(x) !== -1) return aCube[i][4].color;
            }
        }

        function findPlusPart(color1, color2) {
            for (var i = 0; i < 6; i++) {
                for (var j = 1; j < 8; j += 2) {
                    if (aCube[i][j].color === color1 && aCube[i][j].pointer[0].color === color2) {
                        return aCube[i][j];
                    }
                }
            }
        }
        function findCorner(color1, color2) {
            for (var i = 0; i < 6; i++) {
                for (var j = 0; j < 4; j++) {
                    if (aCube[i][aCorners[j]].color === color1 && aCube[i][aCorners[j]].pointer[0].color === color2) {
                        return aCube[i][aCorners[j]];
                    }
                }
            }
        }
        function IsCornerInPlace(x) {
            if (x.pointer[0].color === findPointFaceColor(x) && x.pointer[1].color === findPointFaceColor(x.pointer[0]))
                return true;
            if (x.pointer[0].color === findPointFaceColor(x.pointer[1]) && x.pointer[1].color === findPointFaceColor(x))
                return true;
            if (x.pointer[0].color === findPointFaceColor(x.pointer[0]) && x.pointer[1].color === findPointFaceColor(x.pointer[1]))
                return true;
            return false;
        }

        ////////////////////////////////////////////////////////////////////////////////////////////////////////

        function findColor(nTr, nTd, nFace) {
            var elTd;
            for (var i = 0; i < 3; i++) {
                for (var j = 0; j < 3; j++) {
                    elTd = $("#cube tr:nth-of-type(" + (i + nTr) + ") td:nth-of-type(" + (j + nTd) + ")");
                    if (elTd.hasClass("white")) {
                        aCube[nFace][i * 3 + j] = { color: 0 };
                    }
                    else if (elTd.hasClass("red")) {
                        aCube[nFace][i * 3 + j] = { color: 1 };
                    }
                    else if (elTd.hasClass("blue")) {
                        aCube[nFace][i * 3 + j] = { color: 2 };
                    }
                    else if (elTd.hasClass("yellow")) {
                        aCube[nFace][i * 3 + j] = { color: 3 };
                    }
                    else if (elTd.hasClass("orange")) {
                        aCube[nFace][i * 3 + j] = { color: 4 };
                    }
                    else if (elTd.hasClass("green")) {
                        aCube[nFace][i * 3 + j] = { color: 5 };
                    }
                }
            }
        }

        function findPluses() {
            plusesPointer(5, 3, 4, 5);
            plusesPointer(1, 3, 5, 5);
            plusesPointer(2, 3, 1, 5);
            plusesPointer(4, 3, 2, 5);
            plusesPointer(0, 1, 4, 1);
            plusesPointer(1, 1, 0, 7);
            plusesPointer(3, 1, 1, 7);
            plusesPointer(3, 7, 4, 7);
            plusesPointer(0, 3, 5, 1);
            plusesPointer(0, 5, 2, 1);
            plusesPointer(3, 3, 5, 7);
            plusesPointer(3, 5, 2, 7);
        }

        function findCorners() {
            cornersPointer(0, 8, 2, 0, 1, 2);
            cornersPointer(0, 2, 4, 0, 2, 2);
            cornersPointer(0, 6, 1, 0, 5, 2);
            cornersPointer(0, 0, 5, 0, 4, 2);
            cornersPointer(3, 8, 2, 8, 4, 6);
            cornersPointer(3, 2, 1, 8, 2, 6);
            cornersPointer(3, 6, 4, 8, 5, 6);
            cornersPointer(3, 0, 5, 8, 1, 6);
        }

        function plusesPointer(x1, x2, y1, y2) {
            aCube[x1][x2].pointer = [aCube[y1][y2]];
            aCube[y1][y2].pointer = [aCube[x1][x2]];
        }

        function cornersPointer(x1, x2, y1, y2, z1, z2) {
            aCube[x1][x2].pointer = [aCube[y1][y2], aCube[z1][z2]];
            aCube[y1][y2].pointer = [aCube[z1][z2], aCube[x1][x2]];
            aCube[z1][z2].pointer = [aCube[x1][x2], aCube[y1][y2]];
        }

        ////////////////////////////////////////////////////////////////////////////////////////////////////////

        var sDouble = "", nSolution = 0;
        function move(sFunction) {
            sDouble = "";
            //if clockwise
            if (sSolution.slice(-3, -2) == sFunction.toUpperCase()) {
                // make double to AC
                if (sSolution.charAt(sSolution.length - 4) === '2' && sSolution.slice(-7, -6) == aCube[1][4].color) {
                    eval(sFunction + "()");
                    sSolution = sSolution.substr(0, sSolution.length - 11);
                    sSolution += sFunction.toUpperCase() + "', ";
                }
                // change to double
                else if (sSolution.slice(-6, -5) == aCube[1][4].color) {
                    sSolution = sSolution.substr(0, sSolution.length - 7);
                    sDouble = "2";
                    eval(sFunction + "()");
                }
                else {
                    eval(sFunction + "()");
                }
            }
            //if anticlockwise
            else if (sSolution.slice(-4, -3) == sFunction.toUpperCase().charAt(0)) {
                // make double to C
                if (sSolution.charAt(sSolution.length - 5) === '2' && sSolution.slice(-8, -7) == aCube[1][4].color) {
                    eval(sFunction + "()");
                    sSolution = sSolution.substr(0, sSolution.length - 12);
                    sSolution += sFunction.toUpperCase().charAt(0) + ", ";
                }
                // change to double
                else if (sSolution.slice(-7, -6) == aCube[1][4].color && sFunction.toUpperCase().charAt(1) == '_') {
                    sSolution = sSolution.substr(0, sSolution.length - 8);
                    sDouble = "2";
                    eval(sFunction + "()");
                }
                else {
                    eval(sFunction + "()");
                }
            }
            else {
                eval(sFunction + "()");
            }
        }
        var sSolution = "";
        function r() { rotateFaceC(2); sSolution += "[" + aCube[1][4].color + "] " + sDouble + "R, " }
        function r_() { rotateFaceAC(2); sSolution += "[" + aCube[1][4].color + "] " + sDouble + "R', " }
        function l() { rotateFaceC(5); sSolution += "[" + aCube[1][4].color + "] " + sDouble + "L, " }
        function l_() { rotateFaceAC(5); sSolution += "[" + aCube[1][4].color + "] " + sDouble + "L', " }
        function u() { rotateFaceC(0); sSolution += "[" + aCube[1][4].color + "] " + sDouble + "U, " }
        function u_() { rotateFaceAC(0); sSolution += "[" + aCube[1][4].color + "] " + sDouble + "U', " }
        function d() { rotateFaceC(3); sSolution += "[" + aCube[1][4].color + "] " + sDouble + "D, " }
        function d_() { rotateFaceAC(3); sSolution += "[" + aCube[1][4].color + "] " + sDouble + "D', " }
        function f() { rotateFaceC(1); sSolution += "[" + aCube[1][4].color + "] " + sDouble + "F, " }
        function f_() { rotateFaceAC(1); sSolution += "[" + aCube[1][4].color + "] " + sDouble + "F', " }
        function b() { rotateFaceC(4); sSolution += "[" + aCube[1][4].color + "] " + sDouble + "B, " }
        function b_() { rotateFaceAC(4); sSolution += "[" + aCube[1][4].color + "] " + sDouble + "B', " }

        function showSolution() {
            var aMoves = sSolution.split(", "), nF, nT, cR, sLastSrc;
            $(".solution").html("<h2 style='width: 100%; color: whitesmoke; text-shadow: 0 0 1rem black;'> Step " + nStep + ": </h2>");
            if (nStep > 2) aFaces = [4, 5, 1, 2];
            for (var i = 0; i < aMoves.length - 1; i++) {
                nF = parseInt(aMoves[i].charAt(1));
                if (aMoves[i].slice(-2, -1) === " ") nT = 1;
                else if (aMoves[i].slice(-2, -1) === "2") nT = 2;
                else if (aMoves[i].slice(-3, -2) === "2") nT = 2;
                else if (aMoves[i].slice(-3, -2) === " ") nT = 1;
                if (aMoves[i].slice(-1) === "'") {
                    cR = 'A';
                    aMoves[i] = aMoves[i].slice(0, -1);
                }
                else cR = 'C';
                if (aMoves[i].slice(-1) === "U") nF = aCube[0][4].color;
                else if (aMoves[i].slice(-1) === "D") {
                    if (aCube[0][4].color === 0) nF = 3;
                    else nF = 0;
                }
                else if (aMoves[i].slice(-1) === "R") {
                    if (nF !== aFaces[0]) nF = aFaces[aFaces.indexOf(nF) - 1];
                    else nF = aFaces[3];
                }
                else if (aMoves[i].slice(-1) === "L") {
                    if (nF !== aFaces[3]) nF = aFaces[aFaces.indexOf(nF) + 1];
                    else nF = aFaces[0];
                }
                else if (aMoves[i].slice(-1) === "B") nF = (nF % 3) + Math.abs(Math.floor(nF / 3) - 1) * 3;

                sLastSrc = $(".solution-img:nth-last-of-type(1)").attr("src");
                if (sLastSrc !== undefined) {
                    if (sLastSrc === (nF + "_" + nT + "_" + cR + ".png") && nT === 1) {
                        $(".solution-img:nth-last-of-type(1)").attr("src", nF + "_2_" + cR + ".png");
                    }
                    else if (sLastSrc.charAt(0) == nF && parseInt(sLastSrc.charAt(2)) + nT === 3 && sLastSrc.charAt(4) == cR) {
                        if (sLastSrc.charAt(4) == 'A') $(".solution-img:nth-last-of-type(1)").attr("src", nF + "_1_C.png");
                        else $(".solution-img:nth-last-of-type(1)").attr("src", nF + "_1_A.png");
                    }
                    else if (sLastSrc.charAt(0) == nF && parseInt(sLastSrc.charAt(2)) + nT === 3 && sLastSrc.charAt(4) != cR) {
                        $(".solution-img:nth-last-of-type(1)").attr("src", nF + "_1_" + sLastSrc.charAt(4) + ".png");
                    }
                    else if (sLastSrc.charAt(0) == nF && sLastSrc.charAt(2) == nT && sLastSrc.charAt(4) != cR) {
                        $(".solution-img:nth-last-of-type(1)").remove();
                        nSolution--;
                    }
                    else {
                        $(".solution").html($(".solution").html() + "<img class='solution-img' src='" + nF + "_" + nT + "_" + cR + ".png' />");
                        nSolution++;
                    }
                }
                else {
                    $(".solution").html($(".solution").html() + "<img class='solution-img' src='" + nF + "_" + nT + "_" + cR + ".png' />");
                    nSolution++;
                }
            }
            var nImgWidth = Math.floor($(".solution").width() / 96);
            $(".solution-img").css({ width: ($(".solution").width() - (nImgWidth * 16)) / nImgWidth });
            sSolution = "";
            if (nStep < 5) aFaces = [4, 2, 1, 5];
        }

        ////////////////////////////////////////////////////////////////////////////////////////////////////////

        function printCubeColors() {
            var sLine = "";
            for (var i = 0; i < 3; i++) {
                for (var j = 0; j < 3; j++) {
                    sLine += aCube[0][i * 3 + j].color + "-";
                }
                console.log("------" + sLine + "-----------");
                sLine = "";
            }
            for (var i = 0; i < 3; i++) {
                for (var j = 0; j < 3; j++) {
                    sLine += aCube[5][i * 3 + j].color + "-";
                }
                for (var j = 0; j < 3; j++) {
                    sLine += aCube[1][i * 3 + j].color + "-";
                }
                for (var j = 0; j < 3; j++) {
                    sLine += aCube[2][i * 3 + j].color + "-";
                }
                for (var j = 0; j < 3; j++) {
                    sLine += aCube[4][i * 3 + j].color + "-";
                }
                console.log(sLine);
                sLine = "";
            }
            for (var i = 0; i < 3; i++) {
                for (var j = 0; j < 3; j++) {
                    sLine += aCube[3][i * 3 + j].color + "-";
                }
                console.log("------" + sLine + "-----------");
                sLine = "";
            }
        }

        ////////////////////////////////////////////////////////////////////////////////////////////////////////

        function showOnScreen() {
            setColor(1, 4, 0);
            setColor(4, 4, 1);
            setColor(4, 7, 2);
            setColor(7, 4, 3);
            setColor(4, 10, 4);
            setColor(4, 1, 5);
        }

        function setColor(nTr, nTd, nFace) {
            var elTd;
            for (var i = 0; i < 3; i++) {
                for (var j = 0; j < 3; j++) {
                    elTd = $("#cube tr:nth-of-type(" + (i + nTr) + ") td:nth-of-type(" + (j + nTd) + ")");
                    if (aCube[nFace][i * 3 + j].color === 0) {
                        elTd.removeClass("c white orange green red blue yellow");
                        elTd.addClass("c white");
                    }
                    else if (aCube[nFace][i * 3 + j].color === 1) {
                        elTd.removeClass("c white orange green red blue yellow");
                        elTd.addClass("c red");
                    }
                    else if (aCube[nFace][i * 3 + j].color === 2) {
                        elTd.removeClass("c white orange green red blue yellow");
                        elTd.addClass("c blue");
                    }
                    else if (aCube[nFace][i * 3 + j].color === 3) {
                        elTd.removeClass("c white orange green red blue yellow");
                        elTd.addClass("c yellow");
                    }
                    else if (aCube[nFace][i * 3 + j].color === 4) {
                        elTd.removeClass("c white orange green red blue yellow");
                        elTd.addClass("c orange");
                    }
                    else if (aCube[nFace][i * 3 + j].color === 5) {
                        elTd.removeClass("c white orange green red blue yellow");
                        elTd.addClass("c green");
                    }
                }
            }
        }

        ////////////////////////////////////////////////////////////////////////////////////////////////////////

        var objTemp;
        function rotateFaceC(nFace) {
            objTemp = { color: aCube[nFace][0].color, pointerColors: [aCube[nFace][0].pointer[0].color, aCube[nFace][0].pointer[1].color] };
            changeCornerColor(aCube[nFace][0], aCube[nFace][6]);
            changeCornerColor(aCube[nFace][6], aCube[nFace][8]);
            changeCornerColor(aCube[nFace][8], aCube[nFace][2]);
            changeCornerColor(aCube[nFace][2], objTemp);

            objTemp = { color: aCube[nFace][1].color, pointerColors: [aCube[nFace][1].pointer[0].color] };
            changePlusColor(aCube[nFace][1], aCube[nFace][3]);
            changePlusColor(aCube[nFace][3], aCube[nFace][7]);
            changePlusColor(aCube[nFace][7], aCube[nFace][5]);
            changePlusColor(aCube[nFace][5], objTemp);
        }

        function rotateFaceAC(nFace) {
            objTemp = { color: aCube[nFace][0].color, pointerColors: [aCube[nFace][0].pointer[0].color, aCube[nFace][0].pointer[1].color] };
            changeCornerColor(aCube[nFace][0], aCube[nFace][2]);
            changeCornerColor(aCube[nFace][2], aCube[nFace][8]);
            changeCornerColor(aCube[nFace][8], aCube[nFace][6]);
            changeCornerColor(aCube[nFace][6], objTemp);

            objTemp = { color: aCube[nFace][1].color, pointerColors: [aCube[nFace][1].pointer[0].color] };
            changePlusColor(aCube[nFace][1], aCube[nFace][5]);
            changePlusColor(aCube[nFace][5], aCube[nFace][7]);
            changePlusColor(aCube[nFace][7], aCube[nFace][3]);
            changePlusColor(aCube[nFace][3], objTemp);
        }

        function changeCornerColor(x, y) {
            x.color = y.color;
            if (y.pointerColors !== undefined) {
                x.pointer[0].color = y.pointerColors[0];
                x.pointer[1].color = y.pointerColors[1];
            }
            else {
                x.pointer[0].color = y.pointer[0].color;
                x.pointer[1].color = y.pointer[1].color;
            }
        }

        function changePlusColor(x, y) {
            x.color = y.color;
            if (y.pointerColors !== undefined) {
                x.pointer[0].color = y.pointerColors[0];
            }
            else {
                x.pointer[0].color = y.pointer[0].color;
            }
        }

        ////////////////////////////////////////////////////////////////////////////////////////////////////////

        function rotateCubeR() {
            rotateFaceAC(0);
            rotateFaceC(3);
            var aTemp = [];
            for (var i = 3; i < 6; i++) {
                aTemp[i] = aCube[1][i].color;
                aCube[1][i].color = aCube[5][i].color;
                aCube[5][i].color = aCube[4][i].color;
                aCube[4][i].color = aCube[2][i].color;
                aCube[2][i].color = aTemp[i];
            }
        }
        function rotateCubeL() {
            rotateFaceC(0);
            rotateFaceAC(3);
            var aTemp = [];
            for (var i = 3; i < 6; i++) {
                aTemp[i] = aCube[1][i].color;
                aCube[1][i].color = aCube[2][i].color;
                aCube[2][i].color = aCube[4][i].color;
                aCube[4][i].color = aCube[5][i].color;
                aCube[5][i].color = aTemp[i];
            }
        }
        function rotateCubeF() {
            rotateFaceC(1);
            rotateFaceAC(4);
            var aTemp = [];
            var nTemp;
            nTemp = aCube[0][3].color;
            aCube[0][3].color = aCube[5][7].color;
            aCube[5][7].color = aCube[3][5].color;
            aCube[3][5].color = aCube[2][1].color;
            aCube[2][1].color = nTemp;
            nTemp = aCube[0][4].color;
            aCube[0][4].color = aCube[5][4].color;
            aCube[5][4].color = aCube[3][4].color;
            aCube[3][4].color = aCube[2][4].color;
            aCube[2][4].color = nTemp;
            nTemp = aCube[0][5].color;
            aCube[0][5].color = aCube[5][1].color;
            aCube[5][1].color = aCube[3][3].color;
            aCube[3][3].color = aCube[2][7].color;
            aCube[2][7].color = nTemp;
        }

        ////////////////////////////////////////////////////////////////////////////////////////////////////////

    </script>
</body>

</html>
